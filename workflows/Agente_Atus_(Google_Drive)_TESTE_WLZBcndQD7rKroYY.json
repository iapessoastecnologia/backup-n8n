{"createdAt":"2025-10-22T19:52:06.460Z","id":"WLZBcndQD7rKroYY","name":"Agente Atus (Google Drive) TESTE","active":false,"isArchived":false,"nodes":[{"parameters":{"operation":"pdf","options":{}},"type":"n8n-nodes-base.extractFromFile","typeVersion":1,"position":[-1440,144],"id":"5d6d0704-4ff3-495d-aa11-12cc34e15c0f","name":"Extract from File"},{"parameters":{"assignments":{"assignments":[{"id":"8cf68bfd-280d-49ee-9657-6ce8113b7ff3","name":"resumo","value":"={{ $json.output }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[1520,128],"id":"87ecabbe-5dd5-42cf-96c3-e07fbf2a479c","name":"Edit Fields"},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-2208,144],"id":"61f387e7-8235-40d2-9557-62d5658b6b3f","name":"When clicking ‘Execute workflow’"},{"parameters":{"options":{}},"type":"n8n-nodes-base.splitInBatches","typeVersion":3,"position":[464,144],"id":"632461af-1ca4-496e-8671-1eb16b34eeb0","name":"Loop Over Items"},{"parameters":{"amount":1},"type":"n8n-nodes-base.wait","typeVersion":1.1,"position":[1248,368],"id":"2c4dab4b-4fbf-416b-9d12-17758c461baa","name":"Wait","webhookId":"9cc3f574-9d03-4139-bd59-016e8cad013a"},{"parameters":{"modelId":{"__rl":true,"value":"gpt-4.1-mini","mode":"list","cachedResultName":"GPT-4.1-MINI"},"messages":{"values":[{"content":"={{ $json.resumo }}"},{"content":"=# Persona\nAja como um **Analista Sênior de Reuniões Corporativas**, especializado em análise e síntese de reuniões de diversos segmentos. \n\n\n# Objetivo\nSua função é ler atentamente o conteúdo do PDF fornecido (que pode conter a ata ou transcrição de uma reunião formal) e produzir um resumo claro, organizado e formal, sem perder nenhuma informação importante. Segue os parâmetros importantes:\n\n- Título da Reunião: Com base no Assunto abordado na Reunião.\n\n- Data e Hora da Reunião: Se não informado coloque, pela data de recebimento do VPS.\n\n- Participantes (se for possível identificar pelo texto ou pelo contexto do PDF)\n\n- Tópicos Tratados (liste de forma objetiva e clara cada tema discutido)\n\n- Tópicos Secundários (tudo que surgir fora do roteiro oficial da reunião)\n\n- Listagem de Tarefas, divida por:\n\n    - Pessoas (Clientes, Diretores ou demais mencionados)\n\n    - Departamentos da Empresa\n\n    - Unifique as tarefas por departamento, se forem mencionadas múltiplas vezes.\n\n> Atenção: Só liste tarefas se realmente forem tratadas na reunião.\n\nO tom deve ser sempre formal e objetivo. Você DEVE manter a integridade do conteúdo, sem cortar ou interpretar excessivamente. **Sua tarefa é resumir sem perder o conteúdo essencial da reunião.**\n\n\n# Modelo de Reposta\nEssa será a resposta que você deve encaminhas depois de realizar a analise da reunião.\n\n### INÍCIO DO RESUMO\n\n**1. Título da Reunião:**  \n[Insira aqui]\n\n**2. Data e Hora da Reunião:**  \n[Insira aqui]\n\n**3. Participantes:**  \nListe os nomes e cargos se estiverem disponíveis. Caso não estejam explícitos, **tente inferir** nomes e cargos mencionados ao longo do conteúdo.\n\n**4. Tópicos Tratados:**  \nListe de forma objetiva e clara todos os assuntos discutidos durante a reunião principal.\n\n**5. Tópicos Secundários:**  \nInclua aqui assuntos paralelos ou não previstos no roteiro da reunião, mas que foram tratados.\n\n**6. Listagem de Tarefas:**  \nDivida da seguinte forma:\n- **Por Pessoa** (Cliente, Diretor ou qualquer outra pessoa específica mencionada)\n- **Por Departamento da Empresa** (unifique tarefas por departamento, evitando repetições)\n\n- **Tarefas de Tabelas:** Caso haja tabelas de tarefas, você deve cruzar os papéis e responsabilidades dos participantes (descritos no início da reunião ou mencionados no texto) para atribuir as tarefas ao responsável correto.\n\n- Confira no Topico **(Tarefas de Tabelas)**\n\nSempre apresentar o resultado final em markdown para fácil cópia.\nSomente liste tarefas se elas forem explicitamente tratadas no conteúdo da reunião.\n\n### Tabelas de Tatefas\n\nCaso o conteúdo da reunião traga uma tabela de tarefas (com Nº, descrição, recursos e status), você deve:\n\n- Ler a tabela completa e identificar as tarefas.\n\n- Cruzar os papéis e responsabilidades dos participantes (descritos no início da reunião ou mencionados no texto) para atribuir as tarefas ao responsável correto.\n\nOrganizar uma lista de tarefas por participante, no formato de tabela com as colunas:\n\n- Nº da tarefa\n\n- Descrição da tarefa\n\n- Status\n\n- Participante Encarregado\n\nCaso não seja possível identificar exatamente o responsável, atribuir ao departamento correspondente (ex.: Marketing, Comercial, Financeiro, Tecnologia, Treinamento).\n\n---\n\n### FIM DO RESUMO\n\n**Regras adicionais:**  \n- Mantenha sempre o tom formal e profissional, mesmo que o conteúdo seja descontraído.  \n- Seja objetivo e claro. Não invente nem interprete subjetivamente.  \n- Mantenha a integridade do conteúdo da reunião.  ","role":"system"}]},"options":{}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[1248,-928],"id":"fe9f614b-d86a-4ae4-a8f6-47ad3c48702f","name":"Message a model3"},{"parameters":{"descriptionType":"manual","toolDescription":"Tabela com informação dos colaboradores, departamento e suas funções","operation":"get","dataTableId":{"__rl":true,"value":"RBllNq3zLJStFz5T","mode":"list","cachedResultName":"agente_atus_membros","cachedResultUrl":"[REDACTED]"},"filters":{"conditions":[{"condition":"isNotEmpty"}]},"returnAll":true},"type":"n8n-nodes-base.dataTableTool","typeVersion":1,"position":[848,320],"id":"85fb2b06-0683-433b-a525-a3348c65bf35","name":"consultar_membros"},{"parameters":{"promptType":"define","text":"={{ $json.texto_original }}","options":{"systemMessage":"=# Persona  \nAja como um **Analista Sênior de Reuniões Corporativas**, especializado em análise e síntese de reuniões de diversos segmentos.\n\n# Objetivo  \nSua função é ler atentamente o conteúdo do PDF fornecido (que pode conter a ata ou transcrição de uma reunião formal) e produzir um resumo claro, organizado e formal, sem perder nenhuma informação importante.  \nSiga rigorosamente os parâmetros abaixo.\n\n## Parâmetros do Resumo\n- **Participantes:** Identificar, se possível, pelo texto/contexto.\n- **Tarefas:** Identificar as tarefas e associar com os participantes e departamentos.\n> **ATENÇÃO : Sempre utilize a ferramenta consultar_membros para criar as tarefas com base nos departamentos da empresa**\n---\n## Regras principais\n0. **Sempre utilize a Ferramenta fornecida,ferramenta `consultar_membros` **. Além disso utilize a ferramenta sempre que precisar identificar um nome ou cargo que precise ser confirmado.\n1. Sempre identifique participantes e tarefas.\n2. Corrija nomes e departamentos com base na **ferramenta `consultar_membros`**.\n3. A ferramenta `consultar_membros` retorna os campos `nome`, `departamento` e `função`. **Coloque apenas os participantes citados da Reunião, nunca cite individuos que não estão na reunião**\n4. Ao encontrar nomes similares (ex: *Osana/Rosana → Hosana*), utilize a correspondência mais próxima retornada pela ferramenta.\n5. **Nunca invente/crie dados (Topicos que fujam do modelo de resposta, departamentos que não existem na ferramenta) — apenas corrija com base nos registros da tabela.** Sempre associe as listagem de tarefas com os departamentos da **ferramenta `consultar_membros`**.\n7. Retorne o resultado **em Markdown estruturado**, demostrado no \"Modelo de Resposta\".\n8. Organize a listagem de tarefas por departamento\n9. O resumo só deve constar os seguitnes topicos: **Data e Hora**, **Titulo da Reunião**, **Participantes**, **Listagem de Tarefas**. Nunca crie outros topicos como \"Obeservações de Risco\" e etc, mesmo se citados no resumo.\n\n### LISTAGEM DE TAREFAS\nOrganize as tarefas **por Departamento da Empresa**, conforme as seguintes regras:\n\n1. **Agrupamento por Departamento:**  \n   - Unifique tarefas do mesmo departamento, mesmo que citadas várias vezes.  \n   - Caso o responsável direto não esteja claro, atribua ao departamento correspondente.  \n\n2. **Correção de Nomes e Departamentos:**  \n   - Antes de gerar o resumo final, verifique cada nome mencionado usando a ferramenta **consultar_membros** (Data Table do n8n).  \n   - Corrija automaticamente nomes divergentes com base na correspondência mais próxima entre nome e departamento.  \n   - Ajuste o departamento e a função conforme o registro encontrado na tabela.  \n\n\n> **ATENÇÃO : Sempre utilize a ferramenta \"consultar_membros\" para criar as tarefas com base nos departamentos da empresa**\n> **Siga regra e correções de Nomes e Departamentos sempre**.\n\n---\n## MODELO DE RESPOSTA\n```\n### INÍCIO DO RESUMO\n\n**Data e Hora**\n[Colocar data e hora informada pela ata da reunião. se não informada coloque a data de hoje e hora]\n\n**Titulo da reunião**\n[Coloque aqui o titulo da reunião]\n\n**2. Participantes:**  \n[Listar nomes identificados, conforme a tabela consultar_membros]\n\n**3. Listagem de Tarefas:**\n\n- **Por Departamento da Empresa:**\n  - **[Nome do Departamento]**\n    - [Tarefa 1]\n    - [Tarefa 2]\n    - [Tarefa 3]\n\n### FIM DO RESUMO\n```\n---\n\n## REGRAS ADICIONAIS\n\n- Mantenha sempre um tom **formal e profissional**, mesmo que o conteúdo original seja informal.  \n- Seja **claro, objetivo e completo**, sem omitir informações relevantes.  \n- **Nunca invente** dados nem interprete subjetivamente.  \n- Sempre corrija nomes e departamentos com base na tabela **consultar_membros**.  \n- **Sempre utilize a ferramenta \"consultar_membros**. Pessoas com nomes parecidos são a mesma pessoa (Indentificar com base nas funções tratadas e tarefas parecidade e nomes) Exemplo: Hosana e Rosana, possuem o mesmo departamentos e funções e são a mesma pessoas mas foram pronunciadas de forma diferente.\n- **Correção de Nome**: Ao detectar o nome do individuo e função com base na tabela e no texto estiver errado corrija exemplo: Osana > Hosana, Elino > Lino.\n- O resultado final **deve estar em formato Markdown estruturado** fornecido pelo \"Modelo de Resposta\".\n\n---\n\n## FERRAMENTAS\n\n**Tool:** `consultar_membros`  \n(Data Table do n8n contendo **nome, departamento e função** de cada colaborador.  \nUtilize-a para validar e corrigir nomes e departamentos antes da geração do resumo final.)\n- Em nome você encontrará o nome do individuo e o () esse parenteses indica possiveis nomes que são chamados pela transcrição o qual você deve corrigir para o nome real que está na tabela.\n- Confira e faça correção de nomes funções se necessario.\n- Sempre que for fazer a correção siga as regras estabelecidas, aqui estão alguns exemplos apra corrigir.\n\n**Exemplos de Yure:**\n```\nPossiveis nomes da reunião: Yuri, Uri\n```\n**Exemplos de Hosana:**\n```\nPossiveis nomes da reunião: Rosana, Osana\n```\n**Exemplos de Plaud:**\n```\nPossiveis nomes da reunião: Claudio, Plaudio\n```\n> **Se não indentificar não retorne observação**, em vez disso faça novamente a correção de nomes depois de utilziar a **Tool**."}},"type":"@n8n/n8n-nodes-langchain.agent","typeVersion":2.2,"position":[784,160],"id":"29836905-b1d0-43ba-9675-be4b591339c0","name":"AI Agent2"},{"parameters":{"model":{"__rl":true,"value":"gpt-5-mini","mode":"list","cachedResultName":"gpt-5-mini"},"options":{"reasoningEffort":"low"}},"type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","typeVersion":1.2,"position":[624,320],"id":"5b7ebddd-72e4-436f-a2ed-9ab17281edc6","name":"OpenAI Chat Model1"},{"parameters":{"modelId":{"__rl":true,"value":"gpt-4.1-mini","mode":"list","cachedResultName":"GPT-4.1-MINI"},"messages":{"values":[{},{"role":"system"}]},"options":{}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[880,-928],"id":"d4a6690c-27c4-417b-ab0e-aa3dd65a66b0","name":"Message a model2"},{"parameters":{"sessionIdType":"customKey","sessionKey":"[REDACTED]"},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[736,320],"id":"da33e521-17d2-4506-bca4-e48c760809fc","name":"Simple Memory"},{"parameters":{"httpMethod":"POST","path":"b4e55b81-1f5e-4d4d-8bd4-0a13b4f60a73","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2.1,"position":[-1648,416],"id":"1402e06c-0645-44eb-bae0-a78cbbf77570","name":"Webhook","webhookId":"b4e55b81-1f5e-4d4d-8bd4-0a13b4f60a73","disabled":true},{"parameters":{"pollTimes":{"item":[{"mode":"everyMinute"}]},"triggerOn":"specificFolder","folderToWatch":{"__rl":true,"value":"[REDACTED]","mode":"list","cachedResultName":"Atas","cachedResultUrl":"[REDACTED]"},"event":"fileCreated","options":{"fileType":"all"}},"type":"n8n-nodes-base.googleDriveTrigger","typeVersion":1,"position":[-2096,-240],"id":"2568ed22-8852-4d6b-866e-b7e2d4d1a3e2","name":"Google Drive Trigger","disabled":true},{"parameters":{"operation":"createFromText","content":"={{ $('Merge').item.json.resumo }}","name":"=TAREFAS - {{ $json.name.split('.pdf')[0] }}.txt","driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"={{ $('Create folder').item.json.id }}","mode":"id"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2768,-208],"id":"0aa7f068-657e-4060-bbbb-39595a609a28","name":"cria_listagem_tarefas"},{"parameters":{"resource":"fileFolder","returnAll":true,"filter":{"folderId":{"__rl":true,"value":"[REDACTED]","mode":"list","cachedResultName":"Atas","cachedResultUrl":"[REDACTED]"}},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[-1952,144],"id":"1ba16540-2de7-400f-b6c7-ba18f6258f9e","name":"Search files and folders"},{"parameters":{"modelId":{"__rl":true,"value":"gpt-4.1-nano","mode":"list","cachedResultName":"GPT-4.1-NANO"},"messages":{"values":[{"content":"=Aja como um extrator de dados especializado em transcrições de reuniões empresariais. Sua tarefa é identificar e retornar em formato JSON dois dados específicos a partir do conteúdo da transcrição de uma única reunião:\n\n**Tipo de Reunião**\n - Cliente (Reunião com uma empresa de fora, que não seja a castelo branco)\n - Time ()\n\n\nApenas retorne o JSON com a seguinte estrutura e nada mais:\n\n{\n\"Tipo de reunião\": \"(Cliente ou Time)\"\n}\n\nExemplo de título do arquivo de origem: \"09-09 Consultoria: Diagnóstico Financeiro e Plano de Reestruturação para Farmácia\"\n\nMesmo que os dados estejam no título, transcrição ou em qualquer parte do conteúdo, identifique-os corretamente.","role":"system"},{"content":"={{ $json.texto_original }}"}]},"jsonOutput":true,"options":{}},"type":"@n8n/n8n-nodes-langchain.openAi","typeVersion":1.8,"position":[-128,16],"id":"4348c8dc-6ff1-4ac7-afae-089392f2fcd6","name":"Message a model5"},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict","version":2},"conditions":[{"id":"c01d7d35-b510-452e-bb77-2e1cc298ae44","leftValue":"={{ $json.message.content['Tipo de reunião'] }}","rightValue":"Time","operator":{"type":"string","operation":"contains"}}],"combinator":"and"},"options":{}},"type":"n8n-nodes-base.if","typeVersion":2.2,"position":[1984,320],"id":"b54c0b25-7e48-43ee-9d2c-b99ec9ff1d92","name":"If1"},{"parameters":{"assignments":{"assignments":[{"id":"aba958ad-779a-46ef-a97e-fd9a291010c6","name":"message.content['Tipo de reunião']","value":"={{ $json.message.content['Tipo de reunião'] }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[224,16],"id":"d04f166b-c99f-49aa-8b99-1dd10192689b","name":"tipo_reuniao"},{"parameters":{"mode":"combine","combineBy":"combineByPosition","numberInputs":3,"options":{}},"type":"n8n-nodes-base.merge","typeVersion":3.2,"position":[1760,304],"id":"f7f82c3c-1afb-4364-bd47-0078f35ba76c","name":"Merge"},{"parameters":{"operation":"createFromText","content":"={{ $('Merge').item.json.resumo }}","name":"=TAREFAS - {{ $json.name.split('.pdf')[0] }}.txt","driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"={{ $('Create folder1').item.json.id }}","mode":"id"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[3360,1168],"id":"fdfcdbe1-331a-4826-a185-7b0ff6b285b8","name":"cria_listagem_tarefas1"},{"parameters":{"url":"=https://www.googleapis.com/drive/v3/files/{{ $json.id }}?alt=media&supportsAllDrives=true","authentication":"[REDACTED]","options":{"response":{"response":{"responseFormat":"file"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-1696,144],"id":"27052419-9660-4b9e-bd5c-ac9d309127c0","name":"BAIXA ARQUIVOS","retryOnFail":false},{"parameters":{"assignments":{"assignments":[{"id":"80839884-e7b9-4171-8a11-c30c02b347a7","name":"texto_original","value":"={{ $json.text }}","type":"string"},{"id":"26b54ace-4067-4f92-a1f9-ce813706070f","name":"name","value":"={{ $('Search files and folders').item.json.name }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[-1136,144],"id":"c7a0de41-2bee-4c81-b43c-e2fbf8303fd0","name":"Edit Fields2"},{"parameters":{"operation":"update","fileId":{"__rl":true,"value":"={{ $('Search files and folders').item.json.id }}","mode":"id"},"options":{"appPropertiesUi":{"appPropertyValues":[{"key":"[REDACTED]","value":"={{ true }}"}]}}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[4608,192],"id":"b5ab82a7-021b-43b3-b83a-a7b1d671d453","name":"Update file1"},{"parameters":{"resource":"folder","name":"={{ $json.name }}","driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"[REDACTED]","mode":"list","cachedResultName":"TIME","cachedResultUrl":"[REDACTED]"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2112,-496],"id":"14c80b03-fdd3-4397-a342-19676b0994cc","name":"Create folder"},{"parameters":{"resource":"folder","name":"={{ $json.name }}","driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"1tDRk2DbP5F2Jd_f862Qh44G8Depv0eIm","mode":"list","cachedResultName":"CLIENTE","cachedResultUrl":"[REDACTED]"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[2976,-208],"id":"2b0d5180-9420-4174-b01f-da490276f0b0","name":"Create folder1"},{"parameters":{"method":"POST","url":"http://147.93.66.91:55503/timbrar","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"parameterType":"formBinaryData","name":"arquivo","inputDataFieldName":"arquivo"}]},"options":{"response":{"response":{"responseFormat":"file","outputPropertyName":"=timbrado_tarefas"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3568,480],"id":"2323571d-4aa7-4ff3-b75d-ecf821ba2334","name":"HTTP Request"},{"parameters":{"operation":"toText","sourceProperty":"=resumo","binaryPropertyName":"arquivo","options":{}},"type":"n8n-nodes-base.convertToFile","typeVersion":1.1,"position":[3392,480],"id":"791d9d64-1b1d-4464-a689-5b64602a511d","name":"Convert to File"},{"parameters":{"inputDataFieldName":"timbrado_tarefas","name":"=TAREFAS - {{ $('Merge').item.json.name }}","driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"={{ $('Create folder1').item.json.id }}","mode":"id"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[3728,480],"id":"b0c323b1-0305-498b-8d7b-ba8f431332ba","name":"Upload file"},{"parameters":{"assignments":{"assignments":[{"id":"aef3a46f-b775-4504-93b6-b09aab6cc4d6","name":"=resumo","value":"={{ $('Merge').item.json.resumo }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3216,480],"id":"7ed45e27-8e9d-441d-989e-56e82057c1ac","name":"texto_resumo"},{"parameters":{"assignments":{"assignments":[{"id":"58de85bd-7935-4132-9f27-d2a6af7e50a3","name":"resumo","value":"={{ $('Merge').item.json.resumo }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[3216,0],"id":"a7413b65-7a35-4c8c-a818-89ff1a492387","name":"Edit Fields1"},{"parameters":{"operation":"toText","sourceProperty":"=resumo","binaryPropertyName":"arquivo","options":{}},"type":"n8n-nodes-base.convertToFile","typeVersion":1.1,"position":[3392,0],"id":"8533e3f8-fbc6-4765-bf96-6c1031d2eed2","name":"Convert to File1"},{"parameters":{"method":"POST","url":"http://147.93.66.91:55503/timbrar","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"parameterType":"formBinaryData","name":"arquivo","inputDataFieldName":"arquivo"}]},"options":{"response":{"response":{"responseFormat":"file","outputPropertyName":"=timbrado_tarefas"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[3568,0],"id":"d7251383-8b9e-4cf6-9b24-98bb7f1c3367","name":"HTTP Request1"},{"parameters":{"inputDataFieldName":"timbrado_tarefas","name":"=TAREFAS - {{ $('Merge').item.json.name }}","driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"={{ $('Create folder').item.json.id }}","mode":"id"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[3728,0],"id":"9fbaa832-8b20-4ffd-be1b-e91a434ca872","name":"Upload file1"},{"parameters":{"assignments":{"assignments":[{"id":"3fe9d0fa-fcc9-498a-9897-79dc3a94e71b","name":"texto_original","value":"={{ $json.resumo }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[2528,480],"id":"900068b6-81c3-4b4b-ab02-e25d0582926c","name":"texto_original"},{"parameters":{"method":"POST","url":"http://147.93.66.91:55503/timbrar","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"parameterType":"formBinaryData","name":"arquivo","inputDataFieldName":"arquivo"}]},"options":{"response":{"response":{"responseFormat":"file","outputPropertyName":"=timbrado_tarefas"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2864,480],"id":"6c01e0a3-ac4f-457f-8075-a8c94f883760","name":"HTTP Request2"},{"parameters":{"inputDataFieldName":"timbrado_tarefas","name":"=ATA - {{ $('Merge').item.json.name }}","driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"={{ $('Create folder1').item.json.id }}","mode":"id"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[3104,480],"id":"ee1558b8-23aa-4c02-a225-c2613844a095","name":"Upload file2"},{"parameters":{"operation":"toText","sourceProperty":"=texto_original","binaryPropertyName":"arquivo","options":{}},"type":"n8n-nodes-base.convertToFile","typeVersion":1.1,"position":[2688,480],"id":"957b1afc-8ff6-4ca8-a96b-1a73e3af1d57","name":"Convert to File2"},{"parameters":{"assignments":{"assignments":[{"id":"3fe9d0fa-fcc9-498a-9897-79dc3a94e71b","name":"texto_original","value":"={{ $json.resumo }}","type":"string"}]},"options":{}},"type":"n8n-nodes-base.set","typeVersion":3.4,"position":[2528,0],"id":"28ded353-d478-43b6-aa8b-c99a0e827097","name":"texto_original1"},{"parameters":{"method":"POST","url":"http://147.93.66.91:55503/timbrar","sendBody":true,"contentType":"multipart-form-data","bodyParameters":{"parameters":[{"parameterType":"formBinaryData","name":"arquivo","inputDataFieldName":"arquivo"}]},"options":{"response":{"response":{"responseFormat":"file","outputPropertyName":"=timbrado_tarefas"}}}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[2864,0],"id":"acdef60e-b14a-4f0f-a70c-9182e6c22e98","name":"HTTP Request3"},{"parameters":{"operation":"toText","sourceProperty":"=texto_original","binaryPropertyName":"arquivo","options":{}},"type":"n8n-nodes-base.convertToFile","typeVersion":1.1,"position":[2688,0],"id":"93293c26-43a9-425a-a2b2-7e9d3d639841","name":"Convert to File3"},{"parameters":{"inputDataFieldName":"timbrado_tarefas","name":"=ATA - {{ $('Merge').item.json.name }}","driveId":{"__rl":true,"mode":"list","value":"My Drive"},"folderId":{"__rl":true,"value":"={{ $('Create folder').item.json.id }}","mode":"id"},"options":{}},"type":"n8n-nodes-base.googleDrive","typeVersion":3,"position":[3104,0],"id":"61171782-f1d9-4a84-bf5b-4c05e77beec7","name":"Upload file3"}],"connections":{"Extract from File":{"main":[[{"node":"Edit Fields2","type":"main","index":0}]]},"Edit Fields":{"main":[[{"node":"Merge","type":"main","index":0}]]},"When clicking ‘Execute workflow’":{"main":[[{"node":"Search files and folders","type":"main","index":0}]]},"Loop Over Items":{"main":[[{"node":"Edit Fields","type":"main","index":0}],[{"node":"AI Agent2","type":"main","index":0}]]},"Wait":{"main":[[{"node":"Loop Over Items","type":"main","index":0}]]},"consultar_membros":{"ai_tool":[[{"node":"AI Agent2","type":"ai_tool","index":0}]]},"AI Agent2":{"main":[[{"node":"Wait","type":"main","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"AI Agent2","type":"ai_languageModel","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"AI Agent2","type":"ai_memory","index":0}]]},"Webhook":{"main":[[]]},"Google Drive Trigger":{"main":[[]]},"Search files and folders":{"main":[[{"node":"BAIXA ARQUIVOS","type":"main","index":0}]]},"Message a model5":{"main":[[{"node":"tipo_reuniao","type":"main","index":0}]]},"tipo_reuniao":{"main":[[{"node":"Merge","type":"main","index":2}]]},"Merge":{"main":[[{"node":"If1","type":"main","index":0}]]},"If1":{"main":[[{"node":"texto_original1","type":"main","index":0}],[{"node":"texto_original","type":"main","index":0}]]},"BAIXA ARQUIVOS":{"main":[[{"node":"Extract from File","type":"main","index":0}]]},"Edit Fields2":{"main":[[{"node":"Loop Over Items","type":"main","index":0},{"node":"Message a model5","type":"main","index":0},{"node":"Merge","type":"main","index":1}]]},"cria_listagem_tarefas":{"main":[[]]},"cria_listagem_tarefas1":{"main":[[]]},"Create folder":{"main":[[]]},"Create folder1":{"main":[[]]},"HTTP Request":{"main":[[{"node":"Upload file","type":"main","index":0}]]},"Convert to File":{"main":[[{"node":"HTTP Request","type":"main","index":0}]]},"texto_resumo":{"main":[[{"node":"Convert to File","type":"main","index":0}]]},"Edit Fields1":{"main":[[{"node":"Convert to File1","type":"main","index":0}]]},"Convert to File1":{"main":[[{"node":"HTTP Request1","type":"main","index":0}]]},"HTTP Request1":{"main":[[{"node":"Upload file1","type":"main","index":0}]]},"texto_original":{"main":[[{"node":"Convert to File2","type":"main","index":0}]]},"HTTP Request2":{"main":[[]]},"Upload file2":{"main":[[{"node":"texto_resumo","type":"main","index":0}]]},"Convert to File2":{"main":[[{"node":"HTTP Request2","type":"main","index":0}]]},"texto_original1":{"main":[[{"node":"Convert to File3","type":"main","index":0}]]},"HTTP Request3":{"main":[[]]},"Convert to File3":{"main":[[{"node":"HTTP Request3","type":"main","index":0}]]},"Upload file3":{"main":[[{"node":"Edit Fields1","type":"main","index":0}]]}}}