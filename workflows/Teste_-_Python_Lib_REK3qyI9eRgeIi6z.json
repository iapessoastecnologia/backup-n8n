{"createdAt":"2025-11-05T18:43:02.290Z","id":"REK3qyI9eRgeIi6z","name":"Teste - Python Lib","active":false,"isArchived":false,"nodes":[{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[0,0],"id":"9c50a674-b610-4799-b28c-55c0b99808d5","name":"When clicking ‘Execute workflow’"},{"parameters":{"language":"python","pythonCode":"# n8n Code (Python)\n# Requisitos: pandas disponível no runtime\n\nimport pandas as pd\n\ndef run():\n    # 1) DataFrame de teste (simples)\n    df = pd.DataFrame({\n        \"fornecedor\": [\"TVH\", \"Shark\", \"Cambuci\", \"Motortem\"],\n        \"ncm\": [87089990, 73182900, 40169300, 84219999],\n        \"qtd\": [2, 5, 3, 1],\n        \"preco_unit\": [219.39, 64.54, 5.72, 102.84],\n    })\n    df[\"total\"] = df[\"qtd\"] * df[\"preco_unit\"]\n\n    # 2) Converte para array de dicts\n    records = df.to_dict(orient=\"records\")\n\n    # 3) n8n precisa de um array de itens [{json: ...}, ...]\n    return [{\"json\": rec} for rec in records]\n\n# Execute\nreturn run()\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[208,0],"id":"3357a0da-59c1-46b0-b85b-8d204517cf7a","name":"Code in Python (Beta)"}],"connections":{"When clicking ‘Execute workflow’":{"main":[[{"node":"Code in Python (Beta)","type":"main","index":0}]]}},"versionCounter":3}